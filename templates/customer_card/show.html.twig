{{ include('partials/header-reproupement.html.twig') }}


    {{ include('partials/page-title.html.twig', {pagetitle: 'Client Card'|trans, title: 'Details'|trans}) }}

        <a class="btn btn-secondary btn-sm my-3" href="{{ path('app_customer_card_index', {}|merge(app.request.query.all)) }}">{% trans %}back to list{% endtrans %}</a>
        {% for message in app.flashes('warning') %}
            <div class="alert alert-danger" role="alert">
                {# read and display just one flash message type #}
                <p class="font-weight-bold">
                        {{ message }}
                </p>
            </div>
        {% endfor %}
        <div class="row mb-4">
            <div class="col-xl-4">
                <div class="card h-100">
                    <div class="card-body">
                        <div class="text-center">
                            <div class="dropdown float-end">
                                <a class="text-body dropdown-toggle font-size-18" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true">
                                    <i class="uil uil-ellipsis-v"></i>
                                </a>
                                
                                <div class="dropdown-menu dropdown-menu-end">
                                    {% if ( ("ROLE_HULK" in app.user.roles) or ("ROLE_SUPERMAN" in app.user.roles) ) %}
                                        <a class="dropdown-item" href="{{ path('app_customer_card_edit', {id:customer_card.id}|merge(app.request.query.all) )}}">{% trans %}Edit{% endtrans %}</a>

                                        <a class="dropdown-item" href="{{ path('app_transfer_inter_hotel_new', {id:customer_card.id}|merge(app.request.query.all) )}}">{% trans %}Add Inter Hotel{% endtrans %}</a>

                                        <a class="dropdown-item" href="{{ path('app_transfer_departure_new', {id:customer_card.id}|merge(app.request.query.all) )}}">{% trans %}Add Departure{% endtrans %}</a>

                                        <form method="post" action="{{ path('app_customer_card_delete', {'id': customer_card.id}) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">
                                            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ customer_card.id) }}">
                                            <button class="dropdown-item text-danger">Delete</button>
                                        </form>
                                    {% endif %}
                                </div>
                            </div>
        
                        </div>


                        <!-- Fiche client -->
                        <div class="d-flex align-items-start">
                            <div class="d-none d-md-block flex-shrink-0 me-4">
                                <div class="avatar-sm">
                                    <span class="avatar-title bg-soft-primary text-primary font-size-16 rounded-circle">
                                        <i class="fas fa-id-card text-dark"></i>
                                    </span>
                                </div>
                            </div>
                            <div class="flex-grow-1 align-self-center">
                                <div class="border-bottom pb-1">
                                    <h5 class="text-truncate font-size-16 mb-1"><a href="{{ path('app_customer_card_show', {id:customer_card.id}) }}" class="text-dark text-wrap">{{ customer_card.holder|title }}</a></h5>
                                    <p class="text-muted">
                                        <i class="me-1">#</i> {{ customer_card.reservationNumber }}
                                    </p>
                                    {% for transferArrival in customer_card.transferArrivals %}
                                        <p>
                                            {% if transferArrival.status|lower == "no show" %}
                                                <span class="badge rounded-pill bg-danger">{{ transferArrival.status }}</span>
                                            {% else %}
                                                <span class="badge rounded-pill bg-success">{{ transferArrival.status }}</span>
                                            {% endif %}
                                        </p>
                                    {% endfor %}
                                    <hr class="my-4">
                                    <h5>{% trans %}Agency{% endtrans %}:</h5>
                                    <p class="text-muted">
                                        {{ customer_card.agency|title }}
                                    </p>
                                </div>


                                <div class="border-bottom mt-3 pt-1 pb-1">
                                    <h5>{% trans %}Hotel{% endtrans %}:</h5>
                                    <p class="text-muted">
                                        <i class="fas fa-hotel"></i> 
                                        {% for transfer in customer_card.transferArrivals %} 
                                                {{ transfer.toArrival|title }}
                                        {% endfor %}
                                        {% for transfer in customer_card.transferinterHotels %} 
                                                <br> <i class="fas fa-hotel"></i> {{ transfer.toArrival|title }}
                                        {% endfor %}
                                    </p>
                                </div>
                                <div class="row mt-3">
                                    <h5>{% trans %}Pax{% endtrans %}:</h5>
                                    {% for transferArrival in customer_card.transferArrivals %}
                                        {% if customer_card.transferArrivals|length > 1 %}
                                        <p class="mb-0">
                                            {% if transferArrival.status|lower == "no show" %}
                                                <span class="badge rounded-pill bg-danger">{{ transferArrival.status }}</span>
                                            {% else %}
                                                <span class="badge rounded-pill bg-success">{{ transferArrival.status }}</span>
                                            {% endif %}
                                        
                                        {% endif %}
                                        </p>
                                    <div class="col-4">
                                        <div class="mt-3">
                                            <p class="text-muted mb-2">{% trans %}Adults{% endtrans %}</p>
                                            <h5 class="font-size-16 mb-0">{{ transferArrival.adultsNumber }}</h5>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="mt-3">
                                            <p class="text-muted mb-2">{% trans %}Children{% endtrans %}</p>
                                            <h5 class="font-size-16 mb-0">{{ transferArrival.childrenNumber }}</h5>
                                        </div>
                                    </div>                                                    
                                    <div class="col-4">
                                        <div class="mt-3">{% trans %}Babies{% endtrans %}</p>
                                            <h5 class="font-size-16 mb-0">{{ transferArrival.babiesNumber }}</h5>
                                        </div>
                                    </div>
                                    <hr>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Zone Tab -->
            <div class="col-xl-8">
                <div class="card mb-0">
                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs nav-tabs-custom nav-justified" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" data-bs-toggle="tab" href="#arrival" role="tab">
                                <i class="mdi mdi-airplane-landing fs-3"></i>
                                <span class="d-none d-sm-block">{% trans %}Arrival{% endtrans %}</span> 
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#interHotel" role="tab">
                                <i class="mdi mdi-car fs-3"></i>
                                <span class="d-none d-sm-block">{% trans %}Inter Hotel{% endtrans %}</span> 
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#departure" role="tab">
                                <i class="mdi mdi-airplane-takeoff fs-3"></i>
                                <span class="d-none d-sm-block">{% trans %}Departure{% endtrans %}</span>   
                            </a>
                        </li>
                    </ul>
                    <!-- Tab content -->
                    <div class="tab-content p-4">

                        {# Arriv√©e #}
                        <div class="tab-pane active" id="arrival" role="tabpanel">
                            <div class="bg-primary p-2 rounded mb-2">
                                <h2 class="text-center text-white">
                                    {% if customer_card.transferArrivals|length > 1 %}
                                        {% trans %}There are{% endtrans %} {{ customer_card.transferArrivals|length}} {% trans %}arrivals{% endtrans %}
                                    {% else %}
                                        {% trans %}There is{% endtrans %} {{ customer_card.transferArrivals|length}} {% trans %}arrival{% endtrans %}
                                    {% endif %}
                                </h2>
                            </div>
                            <hr>
                        {% for transfer in customer_card.transferArrivals|sort((a,b) => a.date <=> b.date) %}
                            <div class="row">
                                <h3>{% trans %}Arrival{% endtrans %}  #{{transfer.id}}</h3>
                                <div class="col-lg-10">
                                    {% if ( ("ROLE_HULK" in app.user.roles) or ("ROLE_SUPERMAN" in app.user.roles) ) %}
                                        <a href="{{ path('app_transfer_arrival_edit', {id:transfer.id}) }}" class="btn btn-primary mb-3" >{% trans %}Edit arrival{% endtrans %} #{{ transfer.id}}</a>
                                    {% endif %}
                                    {#  previent des similarit√© ou diff√©rences de pax #}
                                    {% if transfer.transferVehicleArrival %}
                                        {% if (transfer.adultsNumber != transfer.transferVehicleArrival.adultsNumber) or 
                                            (transfer.childrenNumber != transfer.transferVehicleArrival.childrenNumber) or 
                                            (transfer.babiesNumber != transfer.transferVehicleArrival.babiesNumber)
                                        %}
                                        <div class="border border-danger p-2 mb-3 rounded">
                                            <p>Warning: There are differences in the number of people between the client file and the transfer file</p>
                                        {% else %}
                                        <div class="border border-success p-2 mb-3 rounded">
                                            <p>Everything seems fine: There is no difference in the number of people between the client file and the transfer file</p>
                                        {% endif %}
                                            {% if (transfer.adultsNumber != transfer.transferVehicleArrival.adultsNumber) %}
                                                <span class="badge bg-danger p-2">{% trans %}Be carefull{% endtrans %} :
                                                    {% trans %}Adults{% endtrans %}:{{ transfer.transferVehicleArrival.adultsNumber }} 
                                                </span>
                                            {% else %}
                                                <span class="badge bg-success p-2">
                                                    {% trans %}Adults{% endtrans %}:{{ transfer.transferVehicleArrival.adultsNumber }} 
                                                </span>
                                            {% endif %}
                                            {% if (transfer.childrenNumber != transfer.transferVehicleArrival.childrenNumber) %}
                                                <span class="badge bg-danger p-2">{% trans %}Be carefull{% endtrans %} :
                                                    {% trans %}Children{% endtrans %}:{{ transfer.transferVehicleArrival.childrenNumber }} 
                                                </span>
                                            {% else %}
                                                <span class="badge bg-success p-2">
                                                    {% trans %}Children{% endtrans %}:{{ transfer.transferVehicleArrival.childrenNumber }} 
                                                </span>
                                            {% endif %}
                                            {% if (transfer.babiesNumber != transfer.transferVehicleArrival.babiesNumber) %}
                                                <span class="badge bg-danger p-2">{% trans %}Be carefull{% endtrans %} :
                                                    {% trans %}Babies{% endtrans %}:{{ transfer.transferVehicleArrival.babiesNumber }} 
                                                </span>
                                            {% else %}
                                                <span class="badge bg-success p-2">
                                                    {% trans %}Babies{% endtrans %}:{{ transfer.transferVehicleArrival.babiesNumber }} 
                                                </span>
                                            {% endif %}                                    
                                        </div>
                                    {% endif %}                                    
                                </div>
                                <div class="col-lg-4">
                                    <div class="card border border-primary">
                                        <div class="card-header bg-transparent border-primary">
                                            <h5 class="my-0 text-primary"><i class="uil uil-calendar-alt me-3"></i>{% trans %}Date{% endtrans %}</h5>
                                        </div><!-- end card-header -->
                                        <div class="card-body">
                                                 
                                                <h5 class="card-title">{{ transfer.date | date('d-m-Y') }}</h5>
                                                 
                                        </div><!-- end card-body -->
                                    </div><!-- end card -->
                                </div><!-- end col-md-4 -->
            
                                <div class="col-lg-4">
                                    <div class="card border border-primary">
                                        <div class="card-header bg-transparent border-primary">
                                            <h5 class="my-0 text-primary"><i class="uil uil-clock me-3"></i>{% trans %}Hour{% endtrans %}</h5>
                                        </div><!-- end card-header -->
                                        <div class="card-body">
                                       
                                                    <h5 class="card-title">{{ transfer.hour | date('H:i') }}</h5>
                                    
                                        </div><!-- end card-body -->
                                    </div><!-- end card -->
                                </div><!-- end col-md-4 -->

                                 <div class="col-lg-4">
                                    <div class="card border border-primary">
                                        <div class="card-header bg-transparent border-primary">
                                            <h5 class="my-0 text-primary"><i class="fas fa-plane me-3"></i>{% trans %}Flight{% endtrans %} #</h5>
                                        </div><!-- end card-header -->
                                        <div class="card-body">
                                        
                                                    <h5 class="card-title">{{ transfer.flightNumber }}</h5>
                                    
                                        </div><!-- end card-body -->
                                    </div><!-- end card -->
                                </div><!-- end col-md-4 -->
            
                            </div>

                            <hr class="my-4"> 

                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="card border border-primary">
                                        <div class="card-header bg-transparent border-primary">
                                            <h5 class="my-0 text-primary"><i class="uil uil-arrow-from-right me-3"></i>{% trans %}From{% endtrans %}</h5>
                                        </div><!-- end card-header -->
                                        <div class="card-body">
                                             
                                                    <h5 class="card-title">{{ transfer.fromStart|title }}</h5>
                                              
                                        </div><!-- end card-body -->
                                    </div><!-- end card -->
                                </div><!-- end col-md-4 -->
            
                                <div class="col-lg-6">
                                    <div class="card border border-primary">
                                        <div class="card-header bg-transparent border-primary">
                                            <h5 class="my-0 text-primary"><i class="uil uil-arrow-to-right me-3"></i>{% trans %}To{% endtrans %}</h5>
                                        </div><!-- end card-header -->
                                        <div class="card-body">
                                      
                                                    <h5 class="card-title">{{ transfer.toArrival|title }}</h5>
                                   
                                        </div><!-- end card-body -->
                                    </div><!-- end card -->
                                </div><!-- end col-md-4 -->
            
                            </div>

                            <hr class="my-4">

                            {% if transfer.transferVehicleArrival is defined and transfer.transferVehicleArrival != null %}
                            <div class="row">

                                <div class="col-lg-3">
                                    <div class="card border border-primary">
                                        <div class="card-header bg-transparent border-primary">
                                            <h5 class="my-0 text-primary">{% trans %}Transport Company{% endtrans %}</h5>
                                        </div><!-- end card-header -->
                                        <div class="card-body">
                                            <h5 class="card-title">{{ transfer.transferVehicleArrival.transportCompany.name|title }} N¬∞ {{ transfer.transferVehicleArrival.vehicleNumber}}</h5>      
                                        </div><!-- end card-body -->
                                    </div><!-- end card -->
                                </div><!-- end col-md-4 -->

                                <div class="col-lg-3">
                                    <div class="card border border-primary">
                                        <div class="card-header bg-transparent border-primary">
                                            <h5 class="my-0 text-primary">{% trans %}Nature{% endtrans %}</h5>
                                        </div><!-- end card-header -->
                                        <div class="card-body">
                                            <h5 class="card-title">{{ transfer.transferVehicleArrival.isCollective ? "Individual"|trans : "Collective"|trans }}</h5>
                                        </div><!-- end card-body -->
                                    </div><!-- end card -->
                                </div><!-- end col-md-4 -->

                                <div class="col-lg-3">
                                    <div class="card border border-primary">
                                        <div class="card-header bg-transparent border-primary">
                                            <h5 class="my-0 text-primary">{% trans %}Voucher{% endtrans %} #</h5>
                                        </div><!-- end card-header -->
                                        <div class="card-body">
                                            <h5 class="card-title">{{ transfer.transferVehicleArrival.voucherNumber}}</h5>
                                                
                                        </div><!-- end card-body -->
                                    </div><!-- end card -->
                                </div><!-- end col-md-4 -->

                                <div class="col-lg-3">
                                    <div class="card border border-primary">
                                        <div class="card-header bg-transparent border-primary">
                                            <h5 class="my-0 text-primary">{% trans %}Vehicle Type{% endtrans %}</h5>
                                        </div><!-- end card-header -->
                                        <div class="card-body">
                                            <h5 class="card-title">{{ transfer.transferVehicleArrival.vehicleType}}</h5>
                                                
                                        </div><!-- end card-body -->
                                    </div><!-- end card -->
                                </div><!-- end col-md-4 -->


                            </div>
                            {% endif %}

                            <hr class="my-4">
                            {% endfor %}
                        </div>
                       {# Inter Hotel #}
                       <div class="tab-pane" id="interHotel" role="tabpanel">
                            <div class="bg-primary p-2 rounded mb-2">
                                <h2 class="text-center text-white">
                                    {% if customer_card.transferInterHotels|length > 1 %}
                                        {% trans %}There are{% endtrans %} {{ customer_card.transferInterHotels|length}} interhotels
                                    {% else %}
                                        {% trans %}There is{% endtrans %} {{ customer_card.transferInterHotels|length}} interhotel
                                    {% endif %}
                                </h2>
                            </div>
                            <hr>
                            {% for transfer in customer_card.transferInterHotels|sort((a,b) => a.date <=> b.date) %} 
                                <div class="row">
                                    <h3>{% trans %}Inter Hotel{% endtrans %}  #{{transfer.id}}</h3>
                                    <div class="col-lg-10">
                                        {% if ( ("ROLE_HULK" in app.user.roles) or ("ROLE_SUPERMAN" in app.user.roles) ) %}
                                            <a href="{{ path('app_transfer_inter_hotel_edit', {id:transfer.id}) }}" class="btn btn-primary mb-3" >{% trans %}Edit Inter Hotel{% endtrans %} #{{ transfer.id}}</a>
                                        {% endif %}

                                        {#  previent des similarit√© ou diff√©rences de pax #}
                                        {% if transfer %}
                                        <div class="border border-danger p-2 mb-3 rounded">
                                            <p>{% trans %}To avoid pax errors compare with the pax in the client file{% endtrans %}</p>
                                            <span class="badge bg-info p-2">
                                                {% trans %}Adults{% endtrans %}:{{ transfer.adultsNumber }} 
                                            </span>
                                            <span class="badge bg-info p-2">
                                                {% trans %}Children{% endtrans %}:{{ transfer.childrenNumber }} 
                                            </span>
                                            <span class="badge bg-info p-2">
                                                {% trans %}Babies{% endtrans %}:{{ transfer.babiesNumber }} 
                                            </span>
                                        </div>
                                        {% endif %}         

                                    </div>
                                    <div class="col-lg-6">
                                        <div class="card border border-primary">
                                            <div class="card-header bg-transparent border-primary">
                                                <h5 class="my-0 text-primary"><i class="uil uil-calendar-alt me-3"></i>{% trans %}Date{% endtrans %}</h5>
                                            </div><!-- end card-header -->
                                            <div class="card-body">
                                                <h5 class="card-title">{{ transfer.date | date('d-m-Y') }}</h5>
                                            </div><!-- end card-body -->
                                        </div><!-- end card -->
                                    </div><!-- end col-md-4 -->
                                    <div class="col-lg-6">
                                        <div class="card bg-success border-success text-white-50">
                                            <div class="card-body">
                                                <h5 class="text-white"><i class="uil uil-check-circle me-3"></i> {% trans %}Pick Up Hour{% endtrans %}</h5>
                                               
                                                    <h5 class="card-title text-white">{{ transfer.pickup != null ? transfer.pickup|date('H:i') : ""  }}</h5>
                                            </div><!-- end card-body -->
                                        </div><!-- end card -->
                                    </div><!-- end col-md-4 -->
                                </div>
                            
                       

                                <hr class="my-4">


                           
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="card border border-primary">
                                            <div class="card-header bg-transparent border-primary">
                                                <h5 class="my-0 text-primary"><i class="uil uil-arrow-from-right me-3"></i>{% trans %}From{% endtrans %}</h5>
                                            </div><!-- end card-header -->
                                            <div class="card-body">
                                                <h5 class="card-title">{{ transfer.fromStart|title }}</h5>     
                                            </div><!-- end card-body -->
                                        </div><!-- end card -->
                                    </div><!-- end col-md-4 -->
                
                                    <div class="col-lg-6">
                                        <div class="card border border-primary">
                                            <div class="card-header bg-transparent border-primary">
                                                <h5 class="my-0 text-primary"><i class="uil uil-arrow-to-right me-3"></i>{% trans %}To{% endtrans %}</h5>
                                            </div><!-- end card-header -->
                                            <div class="card-body">
                                                <h5 class="card-title">{{ transfer.toArrival|title }}</h5>

                                            </div><!-- end card-body -->
                                        </div><!-- end card -->
                                    </div><!-- end col-md-4 -->
                
                                </div>
                       
                                <hr class="my-4">

                                <div class="row">
                                        <div class="col-lg-3">
                                            <div class="card border border-primary">
                                                <div class="card-header bg-transparent border-primary">
                                                    <h5 class="my-0 text-primary">{% trans %}Transport Company{% endtrans %}</h5>
                                                </div><!-- end card-header -->
                                                <div class="card-body">
                                                                <h5 class="card-title">{{ transfer.transportCompany.name|title }} N¬∞ {{ transfer.vehicleNumber}}</h5>
                                                        
                                                </div><!-- end card-body -->
                                            </div><!-- end card -->
                                        </div><!-- end col-md-4 -->

                                        <div class="col-lg-3">
                                            <div class="card border border-primary">
                                                <div class="card-header bg-transparent border-primary">
                                                    <h5 class="my-0 text-primary">Nature</h5>
                                                </div><!-- end card-header -->
                                                <div class="card-body">
                                                    <h5 class="card-title">{{ transfer.isCollective ? "Individual" : "Collective" }}</h5>
                                                        
                                                </div><!-- end card-body -->
                                            </div><!-- end card -->
                                        </div><!-- end col-md-4 -->

                                        <div class="col-lg-3">
                                            <div class="card border border-primary">
                                                <div class="card-header bg-transparent border-primary">
                                                    <h5 class="my-0 text-primary">{% trans %}Voucher{% endtrans %} #</h5>
                                                </div><!-- end card-header -->
                                                <div class="card-body">
                                                    <h5 class="card-title">{{ transfer.voucherNumber}}</h5>
                                                        
                                                </div><!-- end card-body -->
                                            </div><!-- end card -->
                                        </div><!-- end col-md-4 -->

                                        <div class="col-lg-3">
                                            <div class="card border border-primary">
                                                <div class="card-header bg-transparent border-primary">
                                                    <h5 class="my-0 text-primary">{% trans %}Vehicle Type{% endtrans %}</h5>
                                                </div><!-- end card-header -->
                                                <div class="card-body">
                                                    <h5 class="card-title">{{ transfer.vehicleType}}</h5>
                                                        
                                                </div><!-- end card-body -->
                                            </div><!-- end card -->
                                        </div><!-- end col-md-4 -->

                                </div>
                                
                            {% endfor %}

                        </div>
 
                        {# D√©part #}
                        <div class="tab-pane" id="departure" role="tabpanel">
                            <div class="bg-primary p-2 rounded mb-2">
                                <h2 class="text-center text-white">
                                    {% if customer_card.transferDeparture|length > 1 %}
                                        {% trans %}There are{% endtrans %} {{ customer_card.transferDeparture|length}} {% trans %}departures{% endtrans %}
                                    {% else %}
                                        {% trans %}There is{% endtrans %} {{ customer_card.transferDeparture|length}} {% trans %}departure{% endtrans %}
                                    {% endif %}
                                </h2>
                            </div>
                            <hr>
                            {% for transfer in customer_card.transferDeparture|sort((a,b) => a.date <=> b.date) %} 
                                <h3>{% trans %}Departure{% endtrans %}  #{{transfer.id}}</h3>
                                <div class="col-lg-10">
                                    {% if ( ("ROLE_HULK" in app.user.roles) or ("ROLE_SUPERMAN" in app.user.roles) ) %}
                                        <a href="{{ path('app_transfer_departure_edit', {id:transfer.id}) }}" class="btn btn-primary mb-3" >{% trans %}Edit departure{% endtrans %} #{{ transfer.id}}</a>
                                    {% endif %}

                                    {#  previent des similarit√© ou diff√©rences de pax #}
                                    {% if transfer %}
                                    <div class="border border-danger p-2 mb-3 rounded">
                                        <p>{% trans %}To avoid pax errors compare with the pax in the client file{% endtrans %}</p>
                                        <span class="badge bg-info p-2">
                                            {% trans %}Adults{% endtrans %}:{{ transfer.adultsNumber }} 
                                        </span>
                                        <span class="badge bg-info p-2">
                                            {% trans %}Children{% endtrans %}:{{ transfer.childrenNumber }} 
                                        </span>
                                        <span class="badge bg-info p-2">
                                            {% trans %}Babies{% endtrans %}:{{ transfer.babiesNumber }} 
                                        </span>
                                    </div>
                                    {% endif %}    

                                </div>
                                <div class="row">
                                    <div class="col-lg-3">
                                        <div class="card border border-primary">
                                            <div class="card-header bg-transparent border-primary">
                                                <h5 class="my-0 text-primary"><i class="uil uil-calendar-alt me-3"></i>{% trans %}Date{% endtrans %}</h5>
                                            </div><!-- end card-header -->
                                            <div class="card-body">
                                                <h5 class="card-title">{{ transfer.date | date('d-m-Y') }}</h5>
                                            </div><!-- end card-body -->
                                        </div><!-- end card -->
                                    </div><!-- end col-md-4 -->
                                    <div class="col-lg-3">
                                        <div class="card bg-success border-success text-white-50">
                                            <div class="card-body">
                                                <h5 class="text-white"><i class="uil uil-check-circle me-3"></i>{% trans %}Pick Up Hour{% endtrans %}</h5>
                                                <h5 class="card-title text-white">{{ (transfer.pickUp != null) ? transfer.pickUp|date('H:i') : '-' }}</h5>
                                            </div><!-- end card-body -->
                                        </div><!-- end card -->
                                    </div><!-- end col-md-4 -->

                                    <div class="col-lg-3">
                                        <div class="card border border-primary">
                                            <div class="card-header bg-transparent border-primary">
                                                <h5 class="my-0 text-primary"><i class="fas fa-plane me-3"></i> {% trans %}Flight Hour{% endtrans %}</h5>
                                            </div><!-- end card-header -->
                                            <div class="card-body">
                                                <h5 class="card-title">{{ transfer.hour| date('H:i') }}</h5>
                                            </div><!-- end card-body -->
                                        </div><!-- end card -->
                                    </div><!-- end col-md-4 -->

                                    <div class="col-lg-3">
                                        <div class="card border border-primary">
                                            <div class="card-header bg-transparent border-primary">
                                                <h5 class="my-0 text-primary"><i class="fas fa-plane me-3"></i> {% trans %}Flight{% endtrans %} #</h5>
                                            </div><!-- end card-header -->
                                            <div class="card-body">
                                                        <h5 class="card-title">{{ transfer.flightNumber }}</h5>
                                            </div><!-- end card-body -->
                                        </div><!-- end card -->
                                    </div><!-- end col-md-4 -->
                
                                </div>
                         
                                <hr class="my-4">

                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="card border border-primary">
                                            <div class="card-header bg-transparent border-primary">
                                                <h5 class="my-0 text-primary"><i class="uil uil-arrow-from-right me-3"></i>{% trans %}From{% endtrans %}</h5>
                                            </div><!-- end card-header -->
                                            <div class="card-body">
                                                <h5 class="card-title">{{ transfer.fromStart|title }}</h5>     
                                            </div><!-- end card-body -->
                                        </div><!-- end card -->
                                    </div><!-- end col-md-4 -->
                
                                    <div class="col-lg-6">
                                        <div class="card border border-primary">
                                            <div class="card-header bg-transparent border-primary">
                                                <h5 class="my-0 text-primary"><i class="uil uil-arrow-to-right me-3"></i>{% trans %}To{% endtrans %}</h5>
                                            </div><!-- end card-header -->
                                            <div class="card-body">
                                                <h5 class="card-title">{{ transfer.toArrival|title }}</h5>

                                            </div><!-- end card-body -->
                                        </div><!-- end card -->
                                    </div><!-- end col-md-4 -->
                
                                </div>
                               
                                <hr class="my-4">

                               
                                <div class="row">
                                    <div class="col-lg-3">
                                        <div class="card border border-primary">
                                            <div class="card-header bg-transparent border-primary">
                                                <h5 class="my-0 text-primary">{% trans %}Transport Company{% endtrans %}</h5>
                                            </div><!-- end card-header -->
                                            <div class="card-body">
                                                            <h5 class="card-title">{{ transfer.transportCompany.name|title }} N¬∞ {{ transfer.vehicleNumber}}</h5>
                                                    
                                            </div><!-- end card-body -->
                                        </div><!-- end card -->
                                    </div><!-- end col-md-4 -->

                                    <div class="col-lg-3">
                                        <div class="card border border-primary">
                                            <div class="card-header bg-transparent border-primary">
                                                <h5 class="my-0 text-primary">{% trans %}Nature{% endtrans %}</h5>
                                            </div><!-- end card-header -->
                                            <div class="card-body">
                                                <h5 class="card-title">{{ transfer.isCollective ? "Individual" : "Collective" }}</h5>
                                                    
                                            </div><!-- end card-body -->
                                        </div><!-- end card -->
                                    </div><!-- end col-md-4 -->

                                    <div class="col-lg-3">
                                        <div class="card border border-primary">
                                            <div class="card-header bg-transparent border-primary">
                                                <h5 class="my-0 text-primary">{% trans %}Voucher{% endtrans %} #</h5>
                                            </div><!-- end card-header -->
                                            <div class="card-body">
                                                <h5 class="card-title">{{ transfer.voucherNumber}}</h5>
                                                    
                                            </div><!-- end card-body -->
                                        </div><!-- end card -->
                                    </div><!-- end col-md-4 -->

                                    <div class="col-lg-3">
                                        <div class="card border border-primary">
                                            <div class="card-header bg-transparent border-primary">
                                                <h5 class="my-0 text-primary">{% trans %}Vehicle Type{% endtrans %}</h5>
                                            </div><!-- end card-header -->
                                            <div class="card-body">
                                                <h5 class="card-title">{{ transfer.vehicleType}}</h5>
                                                    
                                            </div><!-- end card-body -->
                                        </div><!-- end card -->
                                    </div><!-- end col-md-4 -->      
                                </div>
                               
                                <hr class="my-4">
                            {% endfor %}


                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- end row -->




        <div class="row">
            <div class="col-xl-4 col-sm-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="font-size-16 mb-4">{% trans %}TimeLine{% endtrans %}</h5>

                            <ul class="activity-feed mb-0 ps-2">

                                {% for timeline in tableauTimeline| sort((a, b) => a.date <=> b.date)  %}

                                <li class="feed-item">
                                    <div class="feed-item-list">
                                        <p class="text-muted mb-1">{{ timeline.name }} {% if timeline.name == 'Status' %} {{ timeline.title }} {% endif %}</p>
                                        <p class="text-muted mb-1">{{ timeline.date|date('d-m-Y') }} at {{ timeline.hour }}</p>
                                        {# si c est meeting #}
                                        {% if timeline.name == 'Meeting' %} 
                                            <p> {% trans %}with{% endtrans %} {{ timeline.staff }} {% trans %}to{% endtrans %} 
                                                {% if timeline.meetingPoint != null %}
                                                {{ (timeline.meetingPoint.checkLanguage(app.user.language) != null) ? timeline.meetingPoint.checkLanguage(app.user.language) : timeline.meetingPoint.en }}
                                                {% endif %}
                                            </p>
                                        {% endif %}
                                        {% if timeline.name == 'Status' %}
                                            <p>{% trans %}Updated by{% endtrans %}: {{ timeline.updatedBy }} </p>
                                        {% endif %}
                                    </div>
                                </li>

                                {% endfor %}
                            </ul>






{#                         <ul class="activity-feed mb-0 ps-2">

                            {% for transfer in customer_card.transferDeparture %} 
                                    <li class="feed-item">
                                        <div class="feed-item-list">
                                            <p class="text-muted mb-1">Arrival: {{ transfer.dateHour | date('d-m-Y') }}</p>
    
                                        </div>
                                    </li>
                            {% endfor %}

                            <li class="feed-item">
                                <div class="feed-item-list">
                                    <p class="text-muted mb-1">Status: No show</p>
                                    <p class="text-muted">By ben at 10:00 le 05-10-2023</p>
                                </div>
                            </li>

                            <li class="feed-item">
                                <div class="feed-item-list">
                                    <p class="text-muted mb-1">Meeting: {{ customer_card.meetingAt | date('d-m-Y')}}</p>
                                    <p class="text-muted">with {{ customer_card.staff }} at  {{ customer_card.meetingAt| date('H:i')}}  √† {{ customer_card.meetingPoint }} </p>
                                </div>
                            </li>


                            {% for transfer in customer_card.transferInterHotels %} 
                                    <li class="feed-item">
                                        <div class="feed-item-list">
                                            <p class="text-muted mb-1">Inter Hotel: {{ transfer.dateHour | date('d-m-Y') }}</p>
                                        </div>
                                    </li>
                            {% endfor %}        
                            {% for transfer in customer_card.transferArrivals %} 
                                    <li class="feed-item">
                                        <div class="feed-item-list">
                                            <p class="text-muted mb-1">Departure: {{ transfer.dateHour | date('d-m-Y') }}</p>
                                        </div>
                                    </li>
                            {% endfor %}

                        </ul> #}






                        
                    </div>

                </div>
            </div>
        
            <div class="col-xl-8">
                <div class="card mb-0">

                    <div class="card-body">
                        <h5 class="font-size-16 mb-1">{% trans %}Comments{% endtrans %}</h5>
                        <div class=" align-items-start border-bottom py-4 ps-3">

                            {% for comment in comments %}
                            <div class="">
                                <h5 class="font-size-15 mb-1">
                                    <small class="text-muted float-end pe-3">{{ comment.createdAt|date('d-m-Y') }} at {{ comment.getCreatedAtTime }}</small><br>
                                    <small class="text-muted float-end pe-3">{{ comment.createdBy }} </small>
                                </h5>
                                <p class="text-muted">{{ comment.content }}</p>
                                <p class="text-muted"><a href="{{ asset('images/comments_medias/'~ comment.media ) }}" target="blank">{{ comment.media }}</a></p>
                                {% if comment.predefinedCommentsMessages is not null %}
                                <p class="text-muted">{{ comment.predefinedCommentsMessages.messageToDisplay }}</p>
                                {% endif %}
                            </div>
                            <hr>
                            {% endfor %}
                        </div>
                    </div>

                    <hr class="p-1">

                    <div class="border rounded mt-4">
                        <div class="px-2 py-1 ">
                        
                        {{ form_start(form) }}



                        <div class="row">
                            <div class="col-6">
                                <div class="form-control">
                                    {{ form_label(form.media) }}
                                    {{ form_widget(form.media) }}
                                    <small>{{ form_help(form.media) }}</small>

                                    <div class="form-error">
                                        {{ form_errors(form.media) }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-control rows='20'">
                                    {{ form_label(form.predefinedCommentsMessages) }}
                                    {{ form_widget(form.predefinedCommentsMessages) }}
                                    <small>{{ form_help(form.predefinedCommentsMessages) }}</small>

                                    <div class="form-error">
                                        {{ form_errors(form.predefinedCommentsMessages) }}
                                    </div>
                                </div>
                            </div>
                        </div>
                            <div class="form-control">
                                {{ form_label(form.content) }}
                                {{ form_widget(form.content) }}

                                <small>{{ form_help(form.content) }}</small>

                                <div class="form-error">
                                    {{ form_errors(form.content) }}
                                </div>
                            </div>

                            <button class="btn btn-primary waves-effect waves-light">{{ button_label|default('Save') }}</button>
                        {{ form_end(form) }}
                        </div>
                    </div>
                </div>
            </div>
        </div><!-- END ROW-->


{{ include('partials/footer-regroupement.html.twig') }}



{#     <h1>CustomerCard</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ customer_card.id }}</td>
            </tr>
            <tr>
                <th>ReservationNumber</th>
                <td>{{ customer_card.reservationNumber }}</td>
            </tr>
            <tr>
                <th>JumboNumber</th>
                <td>{{ customer_card.jumboNumber }}</td>
            </tr>
            <tr>
                <th>Holder</th>
                <td>{{ customer_card.holder }}</td>
            </tr>
            <tr>
                <th>Agency</th>
                <td>{{ customer_card.agency }}</td>
            </tr>
            <tr>
                <th>AdultsNumber</th>
                <td>{{ customer_card.adultsNumber }}</td>
            </tr>
            <tr>
                <th>ChildrenNumber</th>
                <td>{{ customer_card.childrenNumber }}</td>
            </tr>
            <tr>
                <th>BabiesNumber</th>
                <td>{{ customer_card.babiesNumber }}</td>
            </tr>
            <tr>
                <th>StatusUpdatedAt</th>
                <td>{{ customer_card.statusUpdatedAt ? customer_card.statusUpdatedAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>MeetingAt</th>
                <td>{{ customer_card.meetingAt ? customer_card.meetingAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>ReservationCancelled</th>
                <td>{{ customer_card.reservationCancelled ? 'Yes' : 'No' }}</td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('app_customer_card_index') }}">back to list</a>

    <a href="{{ path('app_customer_card_edit', {'id': customer_card.id}) }}">edit</a>

    {{ include('customer_card/_delete_form.html.twig') }}
 #}
